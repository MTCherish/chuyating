<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // let promise = new Promise((resolve,reject)=>{
        //     resolve("1111")
        // }).then((res)=>{
        //     console.log(res);
        //     return "222"
        // }).then((res)=>{
        //     console.log(res);
        // })
        // console.log("======");
        // console.log(  new Promise((resolve,reject)=>{
        //     resolve("333")
        // }).then((res)=>{
        //     console.log(res);
        //     return "4444"
        // }));
       
    //    class myPromise{
    //        constructor(fn){
    //            this.successList=[]
    //            this.failList=[]
    //            this.state="pendding" 
    //            fn(this.resolveFn.bind(this),this.rejectFn.bind(this))
    //        }
    //        resolveFn(res){
    //            this.state="fulfaild"
    //            this.successList.forEach((item)=>{
    //                item(res)
    //            })
    //        }
    //        rejectFn(res){
    //            this.state="reject"
    //            this.failList.forEach((item)=>{
    //                item(res)
    //            })
    //        }
    //        then(successFn,failFn){
    //            if(typeof successFn=='function'){
    //                this.successList.push(successFn)
    //            }
    //            if(typeof failFn=='function'){
    //                this.failList.push(failFn)
    //            }
    //        }
    //        catch(failFn){
    //         if(typeof failFn=='function'){
    //                this.failList.push(failFn)
    //            }
    //        }
    //    }

    class myPromise{
        constructor(fn){
            this.successList=[]
            this.failList=[]
            this.state='pendding'
            fn(this.resloveFn.bind(this),this.rejectFn(this))
        }
        resloveFn(res){
            this.state='fulfailed'
            this.successList.forEach((item=>{
                item(res)
            }))
        }
        rejectFn(res){
            this.state='reject'
            this.failList.forEach((item=>{
                item(res)
            }))
        }
        then(successFn,failFn){
            if(typeof successFn =='fuction'){
                this.successList.push(successFn)
            }
            if(typeof failFn=='fuction'){
                this.failList.push(failFn)
            }
        }
        catch(failFn){
            if(typeof failFn=='fuction'){
                this.failList.push(failFn)
            }
        }
    }

        
    </script>
</body>
</html>